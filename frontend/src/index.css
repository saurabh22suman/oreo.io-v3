@tailwind base;
@tailwind components;
@tailwind utilities;

/* App base styles */
.bg-primary { background-color: rgb(99 102 241); }

html, body, #root {
  height: 100%;
}

body { background-color: rgb(249 250 251); color: rgb(17 24 39); }

/* Design language overrides: sharp, materialized, flat */
:root{
  --bg-surface: #ffffff;
  --bg-page: #f7f7fb;
  --divider: #e6e6ef;
  --primary: #3B82F6; /* brand blue */
  --muted: #6b7280;
}

body { background-color: var(--bg-page); color: #111827; font-weight: 500 }

/* Remove soft shadows used across app and prefer flat borders */
.shadow, .shadow-sm, .shadow-md, .shadow-lg { box-shadow: none !important }

/* Replace rounded corners with straight edges for material-like UI */
.rounded, .rounded-lg, .rounded-xl, .rounded-2xl, .rounded-full, .rounded-md { border-radius: 0 !important }

/* Card style: flat, bold header, clear divider */
.card {
  background: var(--bg-surface);
  border: 1px solid var(--divider);
  padding: 1rem;
}

.card-title { font-weight: 700; color: #0f172a }

/* Sidebar styling: stronger contrast and flat divider */
.sidebar {
  background: #ffffff;
  border-right: 2px solid var(--divider);
}

/* Navbar: flat and bold */
.topbar { background: #ffffff; border-bottom: 2px solid var(--divider) }

/* Buttons: material flat style */
.btn-primary { background: #4f46e5; color: white; border: none }
.btn-primary.bold { font-weight: 700; padding: 0.5rem 0.75rem; }
.btn-ghost { background: transparent; border: 1px solid transparent }

/* Theme palette additions */
:root{
  --mauve: #E0B0FF;
  --goodtax: #C9A0FF;
  --lilac: #B65FCF;
  --brand-blue: #3B82F6;
}

/* Apply primary/brand globally for links only */
a, .link { color: var(--brand-blue) }

/* Sidebar collapse animation */
.sidebar{ transition: width 260ms cubic-bezier(.22,.9,.3,1), transform 180ms ease }

/* Responsive layout helper: use CSS grid for sidebar + main content */
:root { --sidebar-width: 16rem /* 256px default */; --sidebar-collapsed: 5rem /* 80px */ }
.layout-with-sidebar {
  display: grid;
  grid-template-columns: var(--sidebar-width) 1fr;
  gap: 0;
  transition: grid-template-columns 260ms cubic-bezier(.22,.9,.3,1);
}
.layout-with-sidebar.collapsed {
  grid-template-columns: var(--sidebar-collapsed) 1fr;
}
.layout-with-sidebar .sidebar { height: calc(100vh - 64px); /* leave room for topbar */ overflow: auto }
.layout-with-sidebar .main { min-height: calc(100vh - 64px); }

/* Global straight-edge form controls */
input, textarea, select, button {
  border-radius: 0 !important;
}

/* Keep small pill badges rounded intentionally */
.badge-pill { border-radius: 9999px }

/* subtle hover shadow for landing visuals */
.hover-shadow { transition: box-shadow 160ms ease, transform 160ms ease }
.hover-shadow:hover { box-shadow: 0 6px 18px rgba(11,11,11,0.08); transform: translateY(-4px) }

/* Stronger typography and spacing to match enterprise dashboards */
h1, h2, h3 { font-weight: 700 }
.muted-small { color: var(--muted); font-size: 0.875rem }


/* Accessible visually-hidden text helper */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Mascot bounce animation */
.mascot-bounce {
  animation: mascot-bounce 680ms cubic-bezier(.22,.9,.3,1);
}

@keyframes mascot-bounce {
  0% { transform: translateY(18px) scale(.98); opacity: 0 }
  30% { transform: translateY(-6px) scale(1.02); opacity: 1 }
  60% { transform: translateY(2px) scale(0.995) }
  100% { transform: translateY(0) scale(1) }
}

/* Project card glassmorphism / rounded design */
.project-card {
  /* more subtle glass effect */
  background: linear-gradient(180deg, rgba(255,255,255,0.90), rgba(250,250,255,0.85));
  border: 1px solid rgba(255,255,255,0.5);
  transition: transform 240ms cubic-bezier(.22,.9,.3,1), box-shadow 240ms ease, opacity 180ms ease;
}
.project-card:hover { transform: translateY(-4px); box-shadow: 0 8px 18px rgba(13,16,60,0.06) }

.project-card .header {
  /* softened blue gradient */
  background: linear-gradient(90deg, rgba(75,85,240,0.88), rgba(59,130,246,0.86));
}

.avatar-placeholder { font-weight: 700; background: rgba(255,255,255,0.18) }

/* CTA button with subtle glass gradient and hover lift */
.cta-btn {
  background: linear-gradient(90deg, rgba(59,130,246,0.9), rgba(99,102,241,0.8));
  color: white; border: none; box-shadow: 0 6px 14px rgba(59,130,246,0.08);
  transition: transform 140ms ease, box-shadow 140ms ease, opacity 140ms ease;
}
.cta-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 22px rgba(59,130,246,0.08) }

/* Create CTA more prominent */
.create-cta { background: linear-gradient(90deg, rgba(91,33,182,0.92), rgba(59,130,246,0.88)); color: white; font-weight: 700 }
.create-cta:hover { transform: translateY(-3px) }

/* Entrance animation for project cards */
@keyframes cardFadeIn {
  from { opacity: 0; transform: translateY(6px) scale(.998) }
  to { opacity: 1; transform: translateY(0) scale(1) }
}

/* Responsive tweaks */
@media (max-width: 640px) {
  .layout-with-sidebar { grid-template-columns: 1fr }
  .project-card { padding: 14px }
}

/* Projects table style */
.projects-table table { border-collapse: collapse }
.projects-table thead tr { background: linear-gradient(90deg, rgba(245,247,250,1), rgba(250,251,255,1)); }
.projects-table tbody tr:hover { background: rgba(59,130,246,0.03) }
.sort-btn { background: transparent; border: none; cursor: pointer; color: var(--brand-blue); font-weight: 600 }

/* Compact table rows */
.projects-table td.p-2, .projects-table th.p-3 { padding-top: 0.5rem; padding-bottom: 0.5rem }
.projects-table td.compact { padding-top: 0.4rem; padding-bottom: 0.4rem }

/* Make entire row clickable */
.row-clickable { cursor: pointer }
.row-clickable:hover { background: rgba(59,130,246,0.04) }

/* Truncate long project names in table and provide keyboard focus outline */
.projects-table .name-cell.truncate {
  max-width: 320px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.row-clickable:focus { outline: 2px solid rgba(59,130,246,0.24); outline-offset: 2px }

/* Column resizer handle */
.resizer { width: 10px; height: 28px; display: inline-block; cursor: col-resize; margin-left: 8px; background: transparent }
.projects-table th { position: relative }
.resizer { position: absolute; right: 6px; top: 50%; transform: translateY(-50%); }

/* Column percentage widths for Projects table */
.projects-table .name-col { width: 50%; max-width: 50%; }
.projects-table th[style] { /* inline widths allowed - keep for explicit per-column overrides */ }
.projects-table th:nth-child(1) { width: 50% }
.projects-table th:nth-child(2) { width: 15% }
.projects-table th:nth-child(3) { width: 35% }

/* Layout with sidebar adjustments when included on pages */
.layout-with-sidebar { display: grid; grid-template-columns: 16rem 1fr; gap: 0 }
.layout-with-sidebar > main { padding-left: 1.5rem }
